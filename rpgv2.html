local html = [[
    <!DOCTYPE html>
    <html>
    <head>
        <style>
            body { background: rgba(0,0,0,0.8); color: white; font-family: Arial; }
            .tab { display: inline-block; padding: 10px; cursor: pointer; }
            .tab.active { background: rgba(255,0,0,0.5); }
            .content { margin-top: 20px; }
            .option { padding: 5px; background: rgba(255,255,255,0.1); margin: 2px 0; }
            .option.selected { background: rgba(255,0,0,0.3); }
            .popup { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.9); padding: 20px; text-align: center; }
        </style>
    </head>
    <body>
        <div id="popup" class="popup" style="display: none;"></div>
        <div id="menu" style="display: none;">
            <div id="tabs">
                <div class="tab" data-tab="Player">Player</div>
                <div class="tab" data-tab="Local">Local</div>
                <div class="tab" data-tab="Online">Online Players</div>
                <div class="tab" data-tab="Server">Server</div>
            </div>
            <div id="content" class="content"></div>
        </div>
        <script>
            let currentTab = "Player";
            let currentOptionIndex = 0;
            let options = [];

            document.addEventListener("DOMContentLoaded", () => {
                updateTabs();
                updateContent();
            });

            window.addEventListener("message", (event) => {
                let data = JSON.parse(event.data);
                if (data.action === "showKeybindPopup") {
                    document.getElementById("popup").style.display = "block";
                    document.getElementById("popup").innerHTML = data.message;
                    document.getElementById("menu").style.display = "none";
                } else if (data.action === "openMenu") {
                    document.getElementById("popup").style.display = "none";
                    document.getElementById("menu").style.display = "block";
                    currentTab = data.tab;
                    updateTabs();
                    updateContent();
                } else if (data.action === "notify") {
                    alert(data.message);
                } else if (data.action === "navigate") {
                    navigate(data.direction);
                } else if (data.action === "select") {
                    selectOption();
                } else if (data.action === "back") {
                    goBack();
                }
            });

            function updateTabs() {
                document.querySelectorAll(".tab").forEach(tab => {
                    if (tab.getAttribute("data-tab") === currentTab) {
                        tab.classList.add("active");
                    } else {
                        tab.classList.remove("active");
                    }
                });
            }

            function updateContent() {
                let content = document.getElementById("content");
                content.innerHTML = "";
                currentOptionIndex = 0;
                options = [];
                if (currentTab === "Player") {
                    options = [
                        { name: "Godmode", cheat: "godmode" },
                        { name: "Noclip", cheat: "noclip" },
                        { name: "Geld Cheaten (1M)", cheat: "giveMoney" }
                    ];
                } else if (currentTab === "Local") {
                    options = [{ name: "Local Cheats hier...", cheat: "" }];
                } else if (currentTab === "Online") {
                    options = [{ name: "Teleport zu Spieler (ID eingeben)", cheat: "teleportToPlayer" }];
                } else if (currentTab === "Server") {
                    options = [{ name: "Alle Kicken", cheat: "kickAll" }];
                }
                options.forEach((opt, index) => {
                    let div = document.createElement("div");
                    div.className = "option" + (index === 0 ? " selected" : "");
                    div.innerText = opt.name;
                    div.dataset.cheat = opt.cheat;
                    content.appendChild(div);
                });
            }

            function navigate(direction) {
                if (direction === "up" && currentOptionIndex > 0) {
                    currentOptionIndex--;
                } else if (direction === "down" && currentOptionIndex < options.length - 1) {
                    currentOptionIndex++;
                } else if (direction === "right") {
                    let tabs = ["Player", "Local", "Online", "Server"];
                    let currentIndex = tabs.indexOf(currentTab);
                    if (currentIndex < tabs.length - 1) {
                        currentTab = tabs[currentIndex + 1];
                        window.external.SendMessage(JSON.stringify({
                            action: "switchTab",
                            tab: currentTab
                        }));
                        updateTabs();
                        updateContent();
                    }
                } else if (direction === "left") {
                    let tabs = ["Player", "Local", "Online", "Server"];
                    let currentIndex = tabs.indexOf(currentTab);
                    if (currentIndex > 0) {
                        currentTab = tabs[currentIndex - 1];
                        window.external.SendMessage(JSON.stringify({
                            action: "switchTab",
                            tab: currentTab
                        }));
                        updateTabs();
                        updateContent();
                    }
                }
                updateSelection();
            }

            function updateSelection() {
                document.querySelectorAll(".option").forEach((opt, index) => {
                    if (index === currentOptionIndex) {
                        opt.classList.add("selected");
                    } else {
                        opt.classList.remove("selected");
                    }
                });
            }

            function selectOption() {
                let selectedOption = options[currentOptionIndex];
                if (selectedOption && selectedOption.cheat) {
                    let data = { action: "executeCheat", cheat: selectedOption.cheat };
                    if (selectedOption.cheat === "teleportToPlayer") {
                        let targetId = prompt("Spieler-ID eingeben:");
                        if (targetId) {
                            data.targetId = targetId;
                        } else {
                            return;
                        }
                    }
                    window.external.SendMessage(JSON.stringify(data));
                }
            }

            function goBack() {
                // Hier könnte man eine Logik für "Zurück" implementieren, z.B. Menü schließen
                window.external.SendMessage(JSON.stringify({ action: "closeMenu" }));
            }
        </script>
    </body>
    </html>
]]
